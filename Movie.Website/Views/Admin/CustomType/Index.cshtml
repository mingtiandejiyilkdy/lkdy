@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_AdminManageLayout.cshtml";
}
<script src="../../../Content/js/Common/Base.js" type="text/javascript"></script>
<div class="layui-btn-group demoTable">
    <button class="layui-btn layui-btn-normal" data-type="Add">
        添加</button>
    <button class="layui-btn layui-btn-normal" data-type="Edit">
        修改</button>
    <button class="layui-btn layui-btn-normal" data-type="Del">
        删除</button>
    <button class="layui-btn layui-btn-normal" data-type="IsEnable">
        启用</button>
    <button class="layui-btn layui-btn-normal" data-type="UnEnable">
        禁用</button>
    <button class="layui-btn layui-btn-normal" data-type="SetRole">
        分配角色</button>
</div>
<div style="clear: both; margin-top: 10px;">
    <div class="layui-form-item">
        <div class="layui-form layui-card-header layuiadmin-card-header-auto">
            <div class="layui-form-item"> 
                <div class="layui-inline">
                    <label class="layui-form-label">
                        客户类型</label>
                    <div class="layui-input-inline">
                        <input type="text" name="CustomTypeName" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-inline">
                    <label class="layui-form-label">
                        状态</label>
                    <div class="layui-input-inline">
                        <select name="label">
                            <option value="">全部</option>
                            <option value="1">启用</option>
                            <option value="0">禁用</option>
                        </select><div class="layui-unselect layui-form-select">
                            <div class="layui-select-title">
                                <input type="text" placeholder="请选择标签" value="" readonly="" class="layui-input layui-unselect"><i
                                    class="layui-edge"></i></div>
                            <dl class="layui-anim layui-anim-upbit" style="">
                                <dd lay-value="" class="layui-select-tips layui-this">
                                    全部</dd><dd lay-value="0" class="">禁用</dd><dd lay-value="1" class="">启用</dd></dl>
                        </div>
                    </div>
                </div>
                <div class="layui-inline">
                    <button class="layui-btn layuiadmin-btn-list layui-btn-normal" lay-submit="" lay-filter="LAY-app-contlist-search">
                        <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<table class="layui-table" lay-data="{ url:'/Admin/CustomType/list', page:true, id:'idTest'}"
    lay-filter="demo">
    <thead>
        <tr>
            <th lay-data="{type:'checkbox', fixed: 'left'}">
            </th>
            <th lay-data="{field:'ID', width:80, fixed: true}">
                ID
            </th>
            <th lay-data="{field:'CustomTypeName', }">
                客户类型
            </th>
            <th lay-data="{field:'Sort'}">
                排序
            </th>
            <th lay-data="{field:'CreateBy'}">
                添加人
            </th>
            <th lay-data="{field:'CreateIP'}">
                添加IP
            </th>
            <th lay-data="{field:'CreateTime'}">
                添加时间
            </th>
            <th lay-data="{field:'UpdateBy'}">
                更新人
            </th>
            <th lay-data="{field:'UpdateIP'}">
                更新IP
            </th>
            <th lay-data="{field:'UpdateTime'}">
                更新时间
            </th>
            <th lay-data="{field:'Status'}">
                状态
            </th>
        </tr>
    </thead>
</table>
<script type="text/javascript">

    var moduleKey = "CustomType";
    var moduleName = "客户类型";
    //js初始化
    layui.use(['table', 'form', 'layedit', 'laydate'], function () {
        var ajaxUrl = "/Admin/" + moduleName + "/";
        var table = layui.table
            , form = layui.form
            , $ = layui.$



        //监听搜索
        form.on('submit(LAY-app-contlist-search)', function (data) {
            var field = data.field;
            //执行重载
            table.reload('idTest', {
                where: field
            });
        });

        //监听表格复选框选择
        table.on('checkbox(demo)', function (obj) {
            console.log(obj)
        });

        //头部操作按钮
        $('.demoTable .layui-btn').on('click', function () {
            var type = $(this).data('type');

            //js初始化 
            Init(moduleKey, moduleName, type, table, form, $); 
            //active[type] ? active[type].call(this) : '';
        });

         
    });

</script>
